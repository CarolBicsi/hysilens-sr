# HysilensSR Server 一键运行包

这是一个星穹铁道私服项目的完整运行包，提供简单易用的一键启动功能。

## 📋 系统要求

- Windows 10/11 (64位)
- Zig 编译器 0.13.0 或更高版本
- 至少 2GB 可用内存
- 至少 500MB 可用磁盘空间

## 🚀 快速开始

### 方式一：完全自动化启动

双击运行 `start.bat` - 这将自动构建并启动所有服务器

### 方式二：使用管理器（推荐）

双击运行 `server-manager.bat` - 提供完整的服务器管理界面

## 📁 文件结构说明

```
HysilensSR/
├── start.bat                 # 一键启动脚本
├── server-manager.bat        # 服务器管理器（推荐使用）
├── config.json              # 游戏配置文件
├── hotfix.json              # 热修复配置
├── build.zig                # 构建配置
├── dispatch/                # 调度服务器源码
├── gameserver/              # 游戏服务器源码
├── protocol/                # 协议定义
├── resources/               # 游戏资源配置
└── zig-out/                 # 编译输出目录
```

## ⚙️ 服务器配置

### 默认端口

- 调度服务器：21000
- 游戏服务器：端口配置在各自的配置文件中

### 修改配置

1. **角色配置**：编辑 `config.json` 文件
2. **热修复配置**：编辑 `hotfix.json` 文件
3. **服务器设置**：查看各服务器目录下的配置文件

## 🎮 客户端连接

1. 启动服务器后，调度服务器将在 `http://127.0.0.1:21000` 运行
2. 配置游戏客户端连接到本地服务器
3. 使用配置文件中设置的角色进行游戏

## 🔧 故障排除

### 编译错误

- 确保已安装 Zig 0.13.0 或更高版本
- 检查网络连接，构建过程需要下载依赖

### 启动失败

- 检查端口是否被占用
- 确保配置文件格式正确
- 查看控制台输出的错误信息

### 连接问题

- 确认服务器已正常启动
- 检查防火墙设置
- 验证客户端配置

## 📝 管理器功能

服务器管理器 (`server-manager.bat`) 提供以下功能：

1. **一键启动** - 自动启动所有服务器
2. **单独启动** - 分别启动调度或游戏服务器
3. **重新构建** - 重新编译项目
4. **环境检查** - 验证运行环境和配置
5. **状态查看** - 查看服务器运行状态
6. **停止服务** - 安全停止所有服务器

## 🛠️ 开发者选项

如果需要修改源码或调试：

```bash
# 手动构建
zig build

# 运行调度服务器
zig build run-dispatch

# 运行游戏服务器
zig build run-gameserver
```

## ⚠️ 注意事项

1. 首次启动需要联网下载依赖包
2. 请勿修改核心配置文件的结构
3. 建议在修改配置前备份原文件
4. 服务器日志会显示在各自的控制台窗口中

## 🆘 技术支持

如遇到问题，请检查：

1. Zig 编译器版本是否正确
2. 配置文件语法是否正确
3. 控制台错误信息
4. 防火墙和杀毒软件设置

---

**祝你游戏愉快！Ciallo～(∠・ω< )⌒☆**
